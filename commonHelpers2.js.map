{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\n\nconst keyForStorage = 'feedback-form-state';\n\nconst input = feedbackForm.elements.email;\n\nconst textarea = feedbackForm.elements.message;\n\nconst storageValue = localStorage.getItem(keyForStorage);\n\nif (storageValue) {\n  try {\n    const objectForm = JSON.parse(storageValue);\n\n    if (objectForm.email && objectForm.message) {\n      input.value = objectForm.email;\n      textarea.value = objectForm.message;\n    }\n  } catch (error) {\n    console.log(error.name);\n    console.log(error.message);\n  }\n}\n\nfeedbackForm.addEventListener('input', () => {\n  const feedback = {\n    email: input.value.trim(),\n    message: textarea.value.trim(),\n  };\n\n  localStorage.setItem(keyForStorage, JSON.stringify(feedback));\n});\n\nfeedbackForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (input.value.trim() === '' || textarea.value.trim() === '') {\n    alert('You need to write a message!');\n    return;\n  }\n\n  localStorage.removeItem(keyForStorage);\n  console.log({\n    email: input.value.trim(),\n    message: textarea.value.trim(),\n  });\n  feedbackForm.reset();\n});\n"],"names":["feedbackForm","keyForStorage","input","textarea","storageValue","objectForm","error","feedback"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAgB,sBAEhBC,EAAQF,EAAa,SAAS,MAE9BG,EAAWH,EAAa,SAAS,QAEjCI,EAAe,aAAa,QAAQH,CAAa,EAEvD,GAAIG,EACF,GAAI,CACF,MAAMC,EAAa,KAAK,MAAMD,CAAY,EAEtCC,EAAW,OAASA,EAAW,UACjCH,EAAM,MAAQG,EAAW,MACzBF,EAAS,MAAQE,EAAW,QAE/B,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,IAAI,EACtB,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CAGHN,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMO,EAAW,CACf,MAAOL,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CAClC,EAEE,aAAa,QAAQF,EAAe,KAAK,UAAUM,CAAQ,CAAC,CAC9D,CAAC,EAEDP,EAAa,iBAAiB,SAAU,GAAK,CAG3C,GAFA,EAAE,eAAc,EAEZE,EAAM,MAAM,SAAW,IAAMC,EAAS,MAAM,KAAM,IAAK,GAAI,CAC7D,MAAM,8BAA8B,EACpC,MACD,CAED,aAAa,WAAWF,CAAa,EACrC,QAAQ,IAAI,CACV,MAAOC,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CAClC,CAAG,EACDH,EAAa,MAAK,CACpB,CAAC"}